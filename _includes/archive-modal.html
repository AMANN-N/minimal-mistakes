{% comment %}
Modal markup for a portfolio item. Expected variable: post (the collection item).
{% endcomment %}
<div id="modal-{{ post.slug }}" class="archive-modal" aria-hidden="true">
    <div class="archive-modal__content">
        <button class="archive-modal__close" aria-label="Close modal">&times;</button>

        <div class="archive-modal__header"
            style="display: flex; flex-wrap: nowrap; gap: 1.5rem; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid #eaeaea;">
            {% if post.image %}
            <div class="archive-modal__image-container" style="flex: 0 0 150px; width: 150px; height: 150px;">
                <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="archive-modal__image"
                    style="width: 100%; height: 100%; object-fit: cover; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 0;">
            </div>
            {% endif %}

            <div class="archive-modal__meta" style="flex: 1; min-width: 0;">
                <h2 class="archive-modal__title"
                    style="margin-top: 0; margin-bottom: 0.5rem; font-size: 1.75em; line-height: 1.1;">{{ post.title }}
                </h2>

                {% if post.subtitle %}
                <h3 class="archive-modal__subtitle"
                    style="margin-top: 0; margin-bottom: 0.5rem; font-size: 1.1em; color: #666;">{{ post.subtitle }}
                </h3>
                {% endif %}

                {% if post.excerpt %}
                <p class="archive-modal__excerpt" style="font-size: 1em; margin-bottom: 0; color: #555;">{{ post.excerpt
                    | strip_html | truncate: 160 }}</p>
                {% endif %}
            </div>
        </div>

        {{ post.content | markdownify }}

    </div>
</div>