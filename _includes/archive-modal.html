{% comment %}
Modal markup for a portfolio item. Expected variable: post (the collection item).
{% endcomment %}
<div id="modal-{{ post.slug }}" class="archive-modal" aria-hidden="true">
    <div class="archive-modal__content" style="font-size: 0.70rem;">
        <button class="archive-modal__close" aria-label="Close modal">&times;</button>

        <div class="archive-modal__header"
            style="display: flex; flex-wrap: nowrap; gap: 1rem; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #eaeaea;">
            {% if post.image %}
            <div class="archive-modal__image-container" style="flex: 0 0 100px; width: 100px; height: 100px;">
                <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="archive-modal__image"
                    style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.1); margin-bottom: 0;">
            </div>
            {% endif %}

            <div class="archive-modal__meta" style="flex: 1; min-width: 0;">
                <h2 class="archive-modal__title"
                    style="margin-top: 0; margin-bottom: 0.25rem; font-size: 1.3em; line-height: 1.2;">{{ post.title }}
                </h2>

                {% if post.subtitle %}
                <h3 class="archive-modal__subtitle"
                    style="margin-top: 0; margin-bottom: 0.25rem; font-size: 0.9em; color: #666;">{{ post.subtitle }}
                </h3>
                {% endif %}

                {% if post.excerpt %}
                <p class="archive-modal__excerpt"
                    style="font-size: 0.9em; margin-bottom: 0; color: #555; line-height: 1.4;">{{ post.excerpt
                    | strip_html | truncate: 160 }}</p>
                {% endif %}
            </div>
        </div>

        <div class="archive-modal__body" style="font-size: 1em; line-height: 1.5;">
            <style>
                .archive-modal__body h2 {
                    font-size: 1.5em !important;
                    font-weight: 700 !important;
                    margin-top: 1em;
                    margin-bottom: 0.5em;
                    border-bottom: none;
                }

                .archive-modal__body h3 {
                    font-size: 1.3em !important;
                    font-weight: 600 !important;
                    margin-top: 0.75em;
                    margin-bottom: 0.5em;
                }

                .archive-modal__body p,
                .archive-modal__body ul,
                .archive-modal__body ol,
                .archive-modal__body li {
                    font-size: 1em !important;
                    margin-bottom: 0.5em;
                    line-height: 1.5;
                }
            </style>
            {{ post.content | markdownify }}
        </div>

    </div>
</div>